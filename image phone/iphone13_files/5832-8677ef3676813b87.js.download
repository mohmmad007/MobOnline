(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5832],{26956:function(e,s,t){"use strict";t.d(s,{x:function(){return l}});var n=t(52322),i=t(57931),r=t(98780),a=t(52216),o=t(72677);function l(e){var s=e.className,t=e.likeCount,l=e.dislikeCount,u=e.onLike,c=e.onDislike,d=e.isComments,m=void 0!==d&&d,x=e.isLoadingLike,f=e.isLoadingDislike,h=e.isLike,w=e.isDislike,p=e.thumbsUpCroId,v=e.thumbsDownCroId,q=(0,o.d)("flex items-center pt-3 text-neutral-500",s),A=(0,o.d)("text-body-2 lg:ml-10",{"hidden lg:block":!m}),N=(0,o.d)({"text-hint-text-success":h,"text-neutral-400":!h}),j=(0,o.d)({"text-hint-text-error":w,"text-neutral-400":!w}),k=(0,o.d)("mr-1",{"text-hint-success-text":h,"text-neutral-400":!h}),b=(0,o.d)("mr-1",{"text-hint-text-error":w,"text-neutral-400":!w});return(0,n.jsxs)("div",{className:q,children:[(0,n.jsxs)("p",{className:A,children:["آیا این ",m?"دیدگاه":"پاسخ"," مفید بود؟"]}),(0,n.jsxs)("div",{className:"mr-auto lg:mr-0 flex items-center",children:[(0,n.jsx)(i.z,{isLoading:x,onClick:u,hasCustomMode:!0,mode:"text",size:"small",className:N,CROId:p,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:(0,a.U)(void 0===t?0:t)}),(0,n.jsx)(r.J,{icon:"thumbsUp",className:k,size:20,color:h?"success":"low-emphasis"})]})}),(0,n.jsxs)(i.z,{isLoading:f,onClick:c,hasCustomMode:!0,mode:"text",removePadding:!0,className:j,CROId:v,children:[(0,n.jsx)("p",{children:(0,a.U)(void 0===l?0:l)}),(0,n.jsx)(r.J,{icon:"thumbsDown",className:b,size:20,color:w?"error":"low-emphasis"})]})]})]})}},55972:function(e,s,t){"use strict";t.d(s,{M:function(){return h}});var n=t(66383),i=t(52322),r=t(2784),a=t(57931),o=t(98723),l=t(50603),u=t(26442),c=t(11559),d=t(55059),m=t(45227),x=(0,t(1324).q)({type:m.XN.POST,url:function(e){var s=e.questionId;return"questions/".concat(s,"/answer/add/")},transformer:d.u,inputTransformer:function(e){return{answer:e.answer}}}),f=t(85009);function h(e){var s=e.answerModalData,t=e.onClose,d=s||{},m=d.isQuestionAnswerModalOpen,h=d.questionId,w=d.questionText,p=d.successCallback,v=(0,n.Z)((0,r.useState)(""),2),q=v[0],A=v[1],N=(0,n.Z)((0,r.useState)(!1),2),j=N[0],k=N[1],b=(0,c.E)({apiMethod:x}),g=b.request,C=b.pending,I=function(){g({questionId:h,answer:q}).then(function(){t(),p()})};(0,r.useEffect)(function(){m&&A("")},[m]);var L=(0,r.useMemo)(function(){return(0,i.jsxs)("div",{className:"lg:flex items-center justify-between",children:[(0,i.jsx)("div",{className:"w-full lg:50 lg:pl-4",children:(0,i.jsx)(a.z,{size:"large",onClick:I,className:"w-full",disabled:!j,isLoading:C,CROId:"pdp-submit-answer",children:"ثبت پاسخ"})}),(0,i.jsxs)("p",{className:"text-center mt-2 grow",children:["ثبت پاسخ به معنی موافقت با",(0,i.jsx)(o.r,{target:"_blank",to:u.m,className:"mx-1 text-secondary-500",children:"قوانین انتشار دیجی‌کالا"}),"است."]})]})},[I]);return(0,i.jsx)(l.Modal,{isFullScreen:!0,isOpen:m,onDismiss:t,headerTitle:"به این پرسش پاسخ دهید",footer:L,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-body-1 mb-4",children:w}),(0,i.jsx)(f.F,{label:"پاسخ",onChange:function(e){A(e)},handleCanSubmit:k,maxLength:500,resetValue:m})]})})}},47674:function(e,s,t){"use strict";t.d(s,{Q:function(){return p}});var n=t(66383),i=t(52322),r=t(2784),a=t(98780),o=t(72677),l=t(41435),u=t(57931),c=t(74607);function d(e){var s=e.openAnswerModal,t=e.buttonText,n=e.CROId,r=e.className;return(0,i.jsx)("div",{className:(0,o.d)("mr-10",r),children:(0,i.jsxs)(u.z,{mode:"text",size:"small",color:"secondary",onClick:s,CROId:n,className:"mt-3 text-secondary-500",children:[t,(0,i.jsx)(a.J,{icon:"chevronLeft",color:"secondary",size:16,className:"mx-2"})]})})}var m=t(73739);function x(e){var s=e.className;return(0,i.jsx)(m.k,{className:s,icon:"infoOutline",children:"پاسخ شما ثبت شد و پس از بررسی و تایید نمایش داده خواهد شد."})}function f(e){var s=e.answers,t=e.questionText,n=e.submitted,r=e.showAllAnswers,o=e.setShowAllAnswers,l=e.openAnswerModal,m=e.className;return r||1===s.length?(0,i.jsxs)("div",{className:m,children:[s.map(function(e){return(0,i.jsx)(c.s,{className:"br-list-vertical-no-padding",questionAnswer:e,questionText:t},e.questionAnswerId)}),n?(0,i.jsx)(x,{}):(0,i.jsx)(d,{className:"border-complete-t mt-4",buttonText:"ثبت پاسخ جدید",openAnswerModal:l})]}):s.length>1?(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(c.s,{questionAnswer:s[0],questionText:t}),(0,i.jsxs)(u.z,{shape:"text",color:"secondary",onClick:function(){o(!0)},className:"mt-2 mb-3 pr-0 mr-10 font-bold text-secondary-500",children:["مشاهده‌ی پاسخ‌های دیگر",(0,i.jsx)(a.J,{icon:"expandMore",color:"secondary",className:"mx-2",size:24})]})]}):null}function h(e){var s=e.submitted,t=e.openAnswerModal,n=e.className;return s?(0,i.jsx)(x,{className:(0,o.d)("mt-4",n)}):(0,i.jsx)(d,{buttonText:"ثبت پاسخ‌",CROId:"pdp-answer",className:(0,o.d)("border-complete-t mt-4",n),openAnswerModal:t})}var w=(0,r.memo)(function(e){var s=e.answers,t=e.questionId,a=e.questionText,o=e.showAllAnswers,u=e.setShowAllAnswers,c=e.openAnswerModal,d=(0,n.Z)((0,r.useState)(!1),2),m=d[0],x=d[1],w=function(){x(!0)};(0,r.useEffect)(function(){},[m]);var p=function(){c({questionId:t,questionText:a,successCallback:w})};return(0,l.x)(s)?(0,i.jsx)(h,{submitted:m,openAnswerModal:p}):(0,i.jsx)(f,{answers:s,questionText:a,submitted:m,showAllAnswers:o,setShowAllAnswers:u,openAnswerModal:p})});function p(e){var s=e.className,t=e.question,l=e.openAnswerModal,u=t||{},c=u.questionAnswers,d=u.questionText,m=u.questionId,x=(0,n.Z)((0,r.useState)(!1),2),f=x[0],h=x[1];return(0,i.jsxs)("article",{className:(0,o.d)(s,"py-3"),children:[(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)("span",{className:"mt-1 ml-4",children:(0,i.jsx)(a.J,{icon:"question",color:"secondary",size:24})}),(0,i.jsx)("p",{className:"text-subtitle w-full",children:d})]}),(0,i.jsx)(w,{questionId:m,answers:c,questionText:d,showAllAnswers:f,setShowAllAnswers:h,openAnswerModal:l})]})}},74607:function(e,s,t){"use strict";t.d(s,{s:function(){return g}});var n=t(66383),i=t(52322),r=t(2784),a=t(17165),o=t(45756),l=t(66781),u=t(82650),c=t(11559),d=t(41435),m=t(55059),x=t(45227),f=t(1324),h=t(12694),w=(0,f.q)({type:x.XN.POST,url:function(e){var s=e.answerId;return"answers/".concat(s,"/like/")},inputTransformer:function(e){var s=e.type;return(0,h.s)({type:s})},transformer:m.u}),p=t(26956),v=t(31969),q=t(98780),A=t(31909),N=t(61695),j=t(82332),k=t(72677);function b(e){var s=e.className,t=e.media,n=e.onClick,r=t.mediaUrl,a=t.mediaType,o=t.mediaThumbnailUrl,l=(0,j.t)(a,N.L.VIDEO);return(0,i.jsxs)("div",{className:(0,k.d)(s,"relative cursor-pointer"),onClick:n,children:[(0,i.jsx)(A.E,{alt:"question-answer-media",src:l?o:r,rounded:8,height:50,width:50}),l&&(0,i.jsx)(q.J,{size:24,className:"absolute bottom-0 left-0",icon:"playSimple",color:"white"})]})}function g(e){var s=e.className,t=e.questionAnswer,m=e.questionText,x=e.isInDetailModal,f=t||{},h=f.questionAnswerId,q=f.questionAnswerText,A=f.questionAnswerType,N=f.questionAnswerSender,j=f.questionAnswerUserReaction,k=f.questionAnswerReactionsLikes,g=f.questionAnswerHasQABadge,C=f.questionAnswerReactionsDisLikes,I=f.questionAnswerMedias,L=(0,n.Z)((0,r.useState)(!![j].includes(v.d.LIKE)),2),y=L[0],S=L[1],T=(0,n.Z)((0,r.useState)(!![j].includes(v.d.DISLIKE)),2),R=T[0],D=T[1],M=(0,n.Z)((0,r.useState)({questionAnswerReactionsLikes:k,questionAnswerReactionsDisLikes:C}),2),_=M[0],E=M[1],z=function(e){E({questionAnswerReactionsLikes:null==e?void 0:e.likes,questionAnswerReactionsDisLikes:null==e?void 0:e.dislikes}),t.questionAnswerReactionsDisLikes=null==e?void 0:e.dislikes,t.questionAnswerReactionsLikes=null==e?void 0:e.likes},U=(0,c.E)({apiMethod:w,onSuccess:z}),O=U.request,K=U.pending,Z=(0,c.E)({apiMethod:w,onSuccess:z}),P=Z.request,H=Z.pending,J=(0,u.z)().emit,Q=function(){return J(l.P8,{questionAnswer:t,questionText:m})};return(0,i.jsxs)("div",{className:s,children:[(0,i.jsxs)("div",{className:"flex items-center mt-4 text-neutral-600",children:[(0,i.jsx)("p",{className:"text-caption ml-4",children:"پاسخ"}),(0,i.jsx)("div",{className:"grow",children:(0,i.jsx)("p",{className:"text-body-1",children:q})})]}),(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center mr-10",children:[!x&&!(0,d.x)(I)&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mt-3 lg:mb-3 mb-4",children:I.map(function(e){return(0,i.jsx)(b,{media:e,onClick:Q})})}),(0,i.jsx)("p",{className:"text-caption text-neutral-400",children:N}),g?(0,i.jsx)(a.C,{size:"small",text:"نماینده برند",textClasses:"text-neutral-000",bgColor:"neutral-400"}):"buyer"===A?(0,i.jsx)(a.C,{size:"small",text:"خریدار",type:"success"}):"seller"===A?(0,i.jsx)(a.C,{size:"small",text:"فروشنده",type:"success"}):null,(0,i.jsx)(p.x,{onLike:function(){O({type:v.d.LIKE,answerId:h}).then(function(e){e.likes>_.questionAnswerReactionsLikes?(S(!0),t.questionAnswerUserReaction=v.d.LIKE):(S(!1),t.questionAnswerUserReaction="")}).finally(function(){D(!1)})},isLike:y,className:"mr-auto",onDislike:function(){P({answerId:h,type:v.d.DISLIKE}).then(function(e){e.dislikes>_.questionAnswerReactionsDisLikes?(D(!0),t.questionAnswerUserReaction=v.d.DISLIKE):(D(!1),t.questionAnswerUserReaction="")}).finally(function(){S(!1)})},isDislike:R,isLoadingLike:K,isLoadingDislike:H,likeCount:null==_?void 0:_.questionAnswerReactionsLikes,dislikeCount:null==_?void 0:_.questionAnswerReactionsDisLikes,thumbsUpCroId:o.h.PDP_QUESTION_LIKE,thumbsDownCroId:o.h.PDP_QUESTION_DISLIKE})]})]})}},85009:function(e,s,t){"use strict";t.d(s,{F:function(){return l}});var n=t(66383),i=t(52322),r=t(2784),a=t(47),o=t(52216),l=(0,r.forwardRef)(function(e,s){var t=e.label,l=e.onChange,u=e.maxLength,c=e.className,d=e.handleCanSubmit,m=e.resetValue,x=void 0===m||m,f=(0,n.Z)((0,r.useState)(""),2),h=f[0],w=f[1];(0,r.useImperativeHandle)(s,function(){return{resetInput:p}},[]),(0,r.useEffect)(function(){d(h.length>0&&h.length<=u&&h.trim().length>6),l&&l(h)},[h,u]),(0,r.useEffect)(function(){x&&w("")},[x]);var p=function(){w("")};return(0,i.jsxs)("div",{className:c,children:[(0,i.jsx)(a.K,{value:h,label:t,maxLength:u,onChange:function(e){w(e.target.value)},className:"text-body-2 w-full"}),(0,i.jsxs)("div",{className:"text-neutral-400 text-body-2 mr-4 text-left",children:[(0,o.U)(u),"/",(0,o.U)(h.length)]})]})})},31969:function(e,s,t){"use strict";t.d(s,{d:function(){return n}});var n={LIKE:"like",DISLIKE:"dislike"}},55059:function(e,s,t){"use strict";function n(e){var s=e.data||{};return{dislikes:s.dislikes,likes:s.likes}}t.d(s,{u:function(){return n}})},47:function(e,s,t){"use strict";t.d(s,{K:function(){return x}});var n=t(70865),i=t(52322),r=t(96670),a=t(26297),o=t(2784),l=t(9280),u=t(16194),c=t(50158),d=t.n(c),m=(0,o.forwardRef)(function(e,s){var t=e.name,o=e.label,c=e.size,m=e.disabled,x=e.required,f=e.error,h=e.helper,w=e.successPhrase,p=e.fullWidth,v=e.placeholder,q=e.containerClassName,A=e.textareaClassName,N=e.className,j=(0,a.Z)(e,["name","label","size","disabled","required","error","helper","successPhrase","fullWidth","placeholder","containerClassName","textareaClassName","className"]);return(0,i.jsx)(l.Z,{size:void 0===c?"normal":c,label:o,disabled:m,required:x,error:f,helper:h,successPhrase:w,fullWidth:p,containerClassName:(0,u.dh)("px-2 bg-neutral-100 lg:bg-neutral-000",d().container,d().frameHeightAuto,q),labelClassName:"mr-4 text-body-1 text-neutral-700",helperClassName:"mt-2 pr-3 text-body-1 text-neutral-400",errorClassName:"mt-2 pr-3 text-body-2 text-hint-text-error",requiredClassName:"text-primary-500",className:N,children:(0,i.jsx)("textarea",(0,r.Z)((0,n.Z)({},j),{className:(0,u.dh)("py-2 px-3 text-subtitle w-full",d().textarea,A),name:t,disabled:m,onKeyUp:function(e){if(""===e.target.value.trim()){e.target.style.height="auto";return}e.target.style.height="".concat(e.target.scrollHeight,"px")},placeholder:v,ref:s}))})});function x(e){return(0,i.jsx)(m,(0,n.Z)({},e))}},45507:function(e,s,t){"use strict";t.d(s,{v:function(){return i}});var n=t(95976);function i(e){var s=e.data||{},t=s.id,i=s.text,r=s.answer_count,a=s.sender,o=s.created_at,l=s.answers;return{questionId:t,questionText:i,questionAnswerCount:r,questionSender:a,questionCreatedAt:o,questionAnswers:null==l?void 0:l.map(function(e){var s,t,i,r,a,o,l,u,c,d,m,x,f,h;return i=(t=e||{}).id,r=t.has_qa_badge,a=t.text,o=t.reactions,l=t.created_at,u=t.sender,c=t.type,d=t.user_reaction,m=t.files,f=(x=o||{}).likes,h=x.dislikes,{questionAnswerId:i,questionAnswerHasQABadge:!!r,questionAnswerText:a,questionAnswerReactions:{likes:(s=o||{}).likes,dislikes:s.dislikes},questionAnswerCreatedAt:l,questionAnswerSender:u,questionAnswerType:c,questionAnswerUserReaction:d,questionAnswerMedias:(void 0===m?[]:m).map(function(e){return(0,n.w)({data:e})}),questionAnswerReactionsLikes:f,questionAnswerReactionsDisLikes:h}})}}},95976:function(e,s,t){"use strict";t.d(s,{w:function(){return i}});var n=t(61695);function i(e){var s=e.data||{},t=s.storage_ids,i=s.url,r=s.temporary_id,a=s.thumbnail_url;return{mediaStorageIds:t||[],mediaUrl:null==i?void 0:i[0],mediaTemporaryId:r,mediaThumbnailUrl:(null==a?void 0:a[0])||"",mediaType:function(e){var s,t,i,r;if(!e)return n.L.UNKNOWN;switch(null===(s=/(\w+)\.([1-9A-Za-z]{3,4})(?=\?|$)/.exec(e))||void 0===s?void 0:null===(t=s.slice)||void 0===t?void 0:null===(i=t.call(s,-1))||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:r.toLowerCase()){case"jpg":case"jpeg":case"svg":case"png":return n.L.IMAGE;case"mp4":case"mkv":case"webm":return n.L.VIDEO;default:return n.L.UNKNOWN}}(null==i?void 0:i[0])}}},50158:function(e){e.exports={textarea:"styles_textarea__WQzCM",container:"styles_container__JqZxq",frameHeightAuto:"styles_frameHeightAuto__8BmMM"}}}]);