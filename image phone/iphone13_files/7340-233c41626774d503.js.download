(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7340],{36948:function(e,t,n){"use strict";n.d(t,{Bi:function(){return r},FK:function(){return i},n3:function(){return s}});var i={SHORT_REVIEW_SECTION:"PdpShortReview",EXPERT_REVIEW:"expertReview",SPECIFICATION:"specification",COMMENT_SECTION:"commentSection",QUESTION_SECTION:"questionSection"},s="sellerSection",r="pdpFaq"},84001:function(e,t,n){"use strict";n.d(t,{B:function(){return ep}});var i=n(66383),s=n(52322),r=n(2784),o=n(43997),a=n(59437),c=n(57931),l=n(72251),u=n(98780),d=n(31909),m=n(97411),p=n(47072),x=n(64736),f=n(25237),v=n.n(f),h=n(72677),b=v()(function(){return Promise.all([n.e(3325),n.e(8834),n.e(3459),n.e(437)]).then(n.bind(n,71841)).then(function(e){return e.VideoModal})},{loadableGenerated:{webpack:function(){return[71841]}},ssr:!1});function I(e){var t=e.VideoUrl,n=e.className,o=(0,i.Z)((0,r.useState)(!1),2),a=o[0],c=o[1];return(0,s.jsxs)("div",{onClick:function(){return c(!0)},className:(0,h.d)("text-button-1 text-secondary-500 flex cursor-pointer items-center",n),children:["ویدیوی راهنما",(0,s.jsx)(u.J,{icon:"video",color:"secondary",className:"mr-1"}),a&&(0,s.jsx)(b,{onClose:function(){return c(!1)},isOpen:!0,src:t})]})}var N=n(64665),j=n(45756),g=n(64177),_=n(65708),C=n(80786),S=n(42306),T=n(52216),y=n(41435),O=n(76778),z=n(36948),w=n(6892),V=n(24619),P=n(47842),k=n(16330),M=n(83178),R=n(46100),E=n(95054),D=n.n(E);function U(e){var t=e.variantColor,n=e.selected,i=t||{},r=i.colorHexCode,a=i.colorTitle,c=(0,o.v9)(M.n.isDesktop),l=(0,h.d)("rounded-circle mx-auto border-complete lg:border-none flex items-center justify-center",D().InfoSectionVariationColorContent__main),d=(0,R.RH)(r);return(0,s.jsx)(k.u,{label:a,className:"whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:(0,h.d)("rounded-circle flex items-center justify-center",D().InfoSectionVariationColorContent__iconWrapper),children:(0,s.jsx)("div",{style:{background:r},className:l,children:n&&(0,s.jsx)(u.J,{icon:"done",size:c?24:16,color:d===R.cu?"white":"black"})})}),!c&&(0,s.jsx)("span",{className:"mr-2 text-body-2 whitespace-nowrap",children:a})]})})}var q=n(19170),B=n.n(q);function Z(e){var t=e.variantColor,n=e.selected,i=e.onSelect,r=(0,h.d)("bg-neutral-000 flex items-center justify-center cursor-pointer mb-2 ml-2 px-2 lg:px-0",B().InfoSectionVariationColor,(0,P.Z)({},B().InfoSectionVariationColor__selected,n));return(0,s.jsx)("div",{className:r,onClick:function(){return i()},children:(0,s.jsx)(U,{variantColor:t,selected:n})})}var F=n(50603),L=n(29890),Q=n(59233),A=n.n(Q);function H(e){var t,n=e.row,i=e.index,r=e.className,o=(0,h.d)("py-3 w-full grid",(t={"px-5 bg-neutral-100 sticky top-0 shadow-1-bottom rounded-medium":0===i,"bg-neutral-000":i%2!=0,"border-complete rounded-medium":i%2==0&&0!==i},(0,P.Z)(t,A().TableRow__backgroundOpacity,i%2==0&&0!==i),(0,P.Z)(t,"lg:px-4 lg:px-0 rounded",0!==i),t),A().TableRow,r),a=(0,h.d)("text-body-1 text-center text-neutral-700",{"text-neutral-900 text-body1-strong":0===i}),c=(0,L.k)(n)?n:Object.values(n||{});return(0,s.jsx)("div",{className:o,children:c.map(function(e,t){return(0,s.jsx)("p",{className:a,children:e},t)})})}var G=n(64654),K=n.n(G);function J(e){var t=e.sizeGuidTitle,n=e.sizeGuidImage,i=e.sizeGuidTable,r=e.showModal,o=e.closeModal,a=e.className;return(0,s.jsx)(F.Modal,{isOpen:r,onDismiss:o,headerTitle:"راهنمای اندازه",children:(0,s.jsxs)("div",{className:(0,h.d)("relative relative hide-scrollbar",a),children:[n&&(0,s.jsx)("div",{className:"flex justify-center items-center pt-6 lg:pt-4 mb-5 lg:mb-4 px-4 lg:px-0",children:(0,s.jsx)(d.E,{src:n,alt:t,className:(0,h.d)("h-auto ",K().sizeGuidModal__image)})}),(0,s.jsxs)("div",{className:"pb-2",children:[!(0,y.x)(i)&&(0,s.jsx)(H,{row:i[0],index:0}),(0,s.jsx)("div",{children:null==i?void 0:i.map(function(e,t){return 0!==t?(0,s.jsx)(H,{row:e,index:t},t):null})})]})]})})}var X=n(72873),W=n(80803),$=n(1324),Y=function(e){var t=e.data||{};return{trueToSizeItemKey:t.key,trueToSizeItemValue:t.value}},ee=(0,$.q)({url:function(e){var t=e.productId;return"product/".concat(t,"/true-to-size/")},transformer:function(e){var t=e.data||{},n=t.total_count,i=t.values;return{trueToSizeReviewsIsFit:t.is_fit,trueToSizeReviewsTotalCount:n,trueToSizeReviewsItems:null==i?void 0:i.map(function(e){return Y({data:e})})}}}),et=n(46514),en=n(59810),ei=n.n(en);function es(e){var t=e.trueToSizeReviewsTotalCount,n=e.trueToSizeItem||{},i=n.trueToSizeItemKey,r=n.trueToSizeItemValue;return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-neutral-700 w-6/12 text-body-2",children:et.Z[i]}),(0,s.jsxs)("div",{className:"flex justify-between items-center gap-2 w-6/12",children:[(0,s.jsxs)("div",{className:(0,h.d)("w-full relative",ei().progress),children:[(0,s.jsx)("div",{className:"bg-neutral-100 z-1 absolute inset-0 rounded-small"}),(0,s.jsx)("div",{className:"z-2 absolute inset-0 rounded-small bg-secondary-500",style:{width:"".concat(r/t*100,"%")}})]}),(0,s.jsx)("p",{className:"text-caption",children:(0,T.U)(r)})]})]})}function er(e){var t=e.isOpen,n=e.onClose,i=e.trueToSizeReviews,r=i||{},o=r.trueToSizeReviewsItems,a=r.trueToSizeReviewsTotalCount;return(0,y.x)(i)?null:(0,s.jsxs)(F.Modal,{headerTitle:"دیدگاه خریداران",isOpen:t,onDismiss:n,children:[(0,s.jsx)("p",{className:"text-body-2 mb-5 text-neutral-700",children:"از خریداران پرسیدیم آیا اندازه کالا طبق انتظارشان بود؟"}),(0,s.jsx)("div",{className:"pb-2 flex flex-col gap-2",children:null==o?void 0:o.map(function(e){return(0,s.jsx)(es,{trueToSizeItem:e,trueToSizeReviewsTotalCount:a})})})]})}var eo={satisfied:{textColor:"text-hint-text-success",iconColor:"success",iconName:"activeOutline"},notSatisfied:{textColor:"text-neutral-500",iconColor:"low-emphasis",iconName:"infoOutline"}};function ea(e){var t=e.className,n=e.productId,i=e.productHasTrueToSize,r=(0,X.V)({apiMethod:ee,apiData:{productId:n},disabled:!i}),o=r.data,a=r.pending,c=(0,W.d)(),l=c.isOpen,d=c.onClose,m=c.onOpen,p=o||{},x=p.trueToSizeReviewsIsFit,f=p.trueToSizeReviewsTotalCount,v=x?eo.satisfied:eo.notSatisfied,b=v.textColor,I=v.iconColor,N=v.iconName;return i&&0!==f?(0,s.jsx)("div",{className:t,children:a?(0,s.jsx)("div",{className:"mt-6"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center cursor-pointer","data-cro-id":j.h.TRUE_TO_SIZE,onClick:m,children:[(0,s.jsx)(u.J,{className:"ml-2",color:I,icon:N,size:16}),(0,s.jsx)("p",{className:(0,h.d)("text-button-2",b),children:"خریداران درباره اندازه چه گفته‌اند؟"}),(0,s.jsx)(u.J,{className:"mr-1",color:I,icon:"chevronLeft",size:16})]}),(0,s.jsx)(er,{trueToSizeReviews:o,isOpen:l,onClose:d})]})}):null}var ec=n(32062),el=n.n(ec);function eu(e){var t,n=e.selected,i=e.title,r=e.onSelect,o=e.className,a=(0,h.d)("border-complete ml-2 py-2 px-3 cursor-pointer text-caption inline-flex items-center justify-center whitespace-nowrap",el().VariantInfoSizeMobile,(t={},(0,P.Z)(t,el()["VariantInfoSizeMobile--selected"],n),(0,P.Z)(t,"border-complete-200",!n),t),o);return(0,s.jsx)("div",{className:a,onClick:r,children:i})}var ed=n(40537),em=n.n(ed);function ep(e){var t=e.groupByColor,n=e.groupBySize,f=e.className,v=e.defaultVariant,b=e.setDefaultVariantItem,P=e.isElectronicGiftCard,k=e.setElectronicGiftCardFormData,M=e.product,R=e.isBabyPDP,E=M||{},D=E.productRatingRate,U=E.productRatingCount,q=E.productCommentsCount,B=E.productId,F=E.productSuggestionPercentage,L=E.productSuggestionCount,Q=E.productHasTrueToSize,A=E.productQuestionsCount,H=E.productSizeGuidTitle,G=E.productSizeGuidTable,K=E.productSizeGuidImage,X=E.productTitleEn,W=v||{},$=W.variantId,Y=W.variantSize,ee=W.variantColor,et=W.variantVideoGuid,en=Y||{},ei=en.sizeId,es=en.sizeTitle,er=ee||{},eo=er.colorId,ec=er.colorTitle,el=(0,o.v9)(C.b.pdpHasFaq)&&P,ed=(0,g.C)().isDesktop,ep=(0,i.Z)((0,r.useState)(!1),2),ex=ep[0],ef=ep[1],ev=(0,i.Z)((0,r.useState)(!1),2),eh=ev[0],eb=ev[1],eI=function(){eb(!eh)};return(0,s.jsxs)("div",{className:f,children:[!R&&ed&&(0,s.jsxs)("div",{className:"items-center flex",children:[(0,s.jsx)("span",{className:"text-neutral-300 ml-2 text-body-2",children:X}),(0,s.jsx)("div",{className:(0,h.d)("bg-neutral-200 grow",em().VariantInfo__enTitleLine)})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[!!D&&(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)(d.E,{height:16,width:16,src:"/statics/img/png/star-yellow.png",alt:"امتیاز"}),(0,s.jsx)("p",{className:"mr-1 text-body-2",children:(0,T.U)(D)}),(0,s.jsxs)("p",{className:"mr-1 text-caption text-neutral-300",children:["(",(0,T.U)(U),")"]}),(0,s.jsx)(u.J,{icon:"dotOutline",color:"disable",className:"mr-1",size:16})]}),!R&&(0,s.jsxs)(s.Fragment,{children:[q>0&&(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsxs)(a.e,{mode:"anchor",labelSize:"large",hasArrowIcon:!1,onClick:function(){(0,_.dk)({productId:B,sectionName:_.b$.COMMENTS,navigationType:_.OQ.TOUCH_POINT_CLICK}),(0,O.X5)(z.FK.COMMENT_SECTION)},CROId:j.h.PDP_COMMENTS_ABOVEFOLD,className:"text-secondary-500 mx-1 cursor-pointer text-body-2",children:[(0,T.U)(q)," دیدگاه"]}),A>0&&(0,s.jsx)(u.J,{icon:"dotOutline",color:"disable",className:"text-neutral-300",size:16})]}),A>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.e,{mode:"anchor",labelSize:"large",hasArrowIcon:!1,onClick:function(){(0,_.dk)({productId:B,sectionName:_.b$.QUESTIONS,navigationType:_.OQ.TOUCH_POINT_CLICK}),ed?(0,O.X5)("questionSection"):ef(!0)},CROId:j.h.PDP_QUESTIONS_ABOVEFOLD,className:"mt-2 mx-1 cursor-pointer",children:[(0,T.U)(A)," پرسش"]}),(0,s.jsx)(V.l,{productId:B,show:ex,onClose:function(){ef(!1)}}),el&&(0,s.jsx)(u.J,{icon:"dotOutline",color:"disable",className:"text-neutral-300",size:16})]}),el&&(0,s.jsx)("div",{className:"flex items-center mt-2",children:(0,s.jsx)(a.e,{mode:"anchor",labelSize:"large",hasArrowIcon:!1,onClick:function(){(0,_.dk)({productId:B,sectionName:_.b$.QUESTIONS,navigationType:_.OQ.TOUCH_POINT_CLICK}),(0,O.X5)(z.Bi)},className:"text-secondary-500 mx-1 cursor-pointer text-body-2",children:"پرسش‌های متداول"})})]})]}),!R&&(0,s.jsx)(w.R,{className:"mt-2",productSuggestionCount:L,productSuggestionPercentage:F}),!(0,y.x)(t)&&!(0,y.x)(v)&&(0,s.jsxs)("div",{className:"border-complete-t lg:border-none mt-3 lg:mt-0",children:[(0,s.jsx)(p.D,{label:"رنگ: ".concat(ec),leftSlot:(0,s.jsxs)("p",{className:"mr-auto lg:hidden text-neutral-500 text-button-2 ",children:[(0,T.U)(Object.keys(t).length)," رنگ"]})}),(0,s.jsx)("div",{className:"flex lg:flex-wrap overflow-x-auto",children:Object.keys(t).map(function(e){var n=t[e],i=(n[0]||{}).variantColor;return(null==i?void 0:i.colorHexCode)&&(0,s.jsx)(Z,{selected:(null==i?void 0:i.colorId)===eo,variantColor:i,onSelect:function(){b(n[0])}},null==i?void 0:i.colorId)})})]}),!(0,y.x)(n)&&!(0,y.x)(v)&&(0,s.jsxs)("div",{className:(0,h.d)("mt-3",{"border-complete-t":!P}),children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(p.D,{titleClassName:P&&"text-subtitle-strong",label:P?"۱. چه مبلغی هدیه می‌دهید؟":"اندازه: ".concat(es),leftSlot:(G||K)&&(0,s.jsx)(c.z,{mode:"text",color:"secondary",className:"mr-5 text-button-2 lg:hidden",removePadding:!0,onClick:eI,children:"راهنمای اندازه"})}),P&&et&&(0,s.jsx)(I,{VideoUrl:et})]}),!R&&ed&&(0,s.jsxs)("div",{className:"items-center flex",children:[(0,s.jsx)(l.vb,{isReadOnly:!0,value:(0,T.U)(es),className:(0,h.d)("rounded-medium",em().VariantInfo__sizeDropDown),placeholder:"اندازه",onSelect:function(e){b(n[e][0])},children:Object.keys(n).map(function(e){var t=n[e][0]||{},i=t.productVariantSizeId,r=t.productVariantSizeTitle;return(0,s.jsx)(l.bK,{isSelected:ei===i,value:i,children:(0,T.U)(r)},i)})}),(G||K)&&(0,s.jsx)(c.z,{mode:"text",color:"secondary",className:"mr-5 text-button-2 hidden lg:inline-block",removePadding:!0,label:"راهنمای انتخاب اندازه",onClick:eI})]}),(!ed||R)&&(0,s.jsx)(m.l,{items:Object.keys(n).map(function(e){var t=n[e],i=t[0]||{},r=i.productVariantSizeId,o=i.productVariantSizeTitle;return(0,s.jsx)(eu,{title:o,selected:r===ei,onSelect:function(){b(t[0])}},r)})}),(0,S.d)(N.X.TRUE_TO_SIZE)&&(0,s.jsx)(ea,{className:"lg:mt-4 mt-2",productId:B,productHasTrueToSize:Q})]}),P&&!!$&&(0,s.jsx)(x.K,{productVariantId:$,setData:k},$),(G||K)&&(0,s.jsx)(J,{sizeGuidTitle:H,sizeGuidImage:K,sizeGuidTable:G,showModal:eh,closeModal:eI})]})}},6892:function(e,t,n){"use strict";n.d(t,{R:function(){return c}});var i=n(52322),s=n(98780),r=n(75822),o=n(52216),a=n(72677);function c(e){var t=e.productSuggestionPercentage,n=e.productSuggestionCount,c=e.isBold,l=e.className;return n>5&&t>70?(0,i.jsxs)("div",{className:(0,a.d)("flex items-center",l),children:[(0,i.jsx)(s.J,{icon:"thumbsUp",size:16,color:"success",className:"ml-1 text-hint-text-success"}),(0,i.jsxs)("p",{className:(0,a.d)("ml-2",{"text-neutral-600 text-body-2":!c,"text-neutral-900 text-body2-strong":c}),children:[(0,o.U)(t),"% (",(0,o.U)(n)," نفر) از خریداران، این کالا را پیشنهاد کرده‌اند"]}),(0,i.jsx)(r.i,{title:"خریداران کالا با انتخاب یکی از گزینه‌های پیشنهاد یا عدم پیشنهاد، تجربه خرید خود را با کاربران به اشتراک می‌گذارند."})]}):null}},1746:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var i=n(45507),s=n(46932),r=(0,n(1324).q)({url:function(e){var t=e.productId;return"product/".concat(t,"/questions/")},transformer:function(e){var t=e.data||{},n=t.pager;return{questions:t.questions.map(function(e){return(0,i.v)({data:e})}),pager:(0,s.d)({data:n})}}})},97155:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var i=n(45227),s=n(1324),r=n(12694),o=(0,s.q)({type:i.XN.POST,url:function(e){var t=e.productId;return"products/".concat(t,"/questions/add/")},inputTransformer:function(e){var t=e.question;return(0,r.s)({question:t})}})},24619:function(e,t,n){"use strict";n.d(t,{l:function(){return j}});var i=n(70865),s=n(96670),r=n(66383),o=n(50930),a=n(52322),c=n(2784),l=n(79477),u=n(57033),d=n(50603),m=n(45756),p=n(72873),x=n(72677),f=n(1746),v=n(47674),h=n(55972),b=n(18015),I=n(99243),N=n.n(I);function j(e){var t=e.show,n=e.onClose,I=e.productId,j=e.className,g=(0,r.Z)((0,c.useState)({}),2),_=g[0],C=g[1],S=(0,r.Z)((0,c.useState)(1),2),T=S[0],y=S[1],O=(0,r.Z)((0,c.useState)(!1),2),z=O[0],w=O[1],V=(0,r.Z)((0,c.useState)({isOpen:!1,questionId:"",questionText:"",successCallback:function(){}}),2),P=V[0],k=V[1];(0,p.V)({disabled:!t,apiData:{page:T,productId:I},apiMethod:f.h,onSuccess:function(e){var t;C((null==e?void 0:null===(t=e.pager)||void 0===t?void 0:t.pagerCurrentPage)===1?e:(0,s.Z)((0,i.Z)({},e),{pager:null==e?void 0:e.pager,questions:(0,o.Z)((null==_?void 0:_.questions)||[]).concat((0,o.Z)(e.questions||[]))}))}}),(0,c.useEffect)(function(){t||(C({}),y(1))},[t]);var M=function(){w(!1)},R=(0,c.useCallback)(function(e){k({isOpen:!0,questionId:e.questionId,questionText:e.questionText,successCallback:e.successCallback})},[]),E=(0,c.useCallback)(function(e){var t,n=e.itemIndex,i=(null==_?void 0:null===(t=_.questions)||void 0===t?void 0:t[n])||{};return(0,a.jsx)(v.Q,{question:i,openAnswerModal:R})},[_,R]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Modal,{isFullScreen:!0,isOpen:t,childrenClassName:"py-4",headerTitle:"پرسش و پاسخ",onDismiss:function(){n()},children:(0,a.jsxs)("div",{className:(0,x.d)("bg-neutral-000 flex flex-col relative",j),children:[(0,a.jsx)(u.S,{hidePagination:!0,itemsPerRow:1,className:"grow",pager:null==_?void 0:_.pager,fetchPage:function(){y(T+1)},itemClassName:"px-5",items:null==_?void 0:_.questions,itemComponent:E,borderLeftClassName:"border-complete-l-200",borderBottomClassName:"border-complete-b-200"}),(0,a.jsx)("div",{className:(0,x.d)("fixed",N().PdpQuestionSectionMobileModal__addQuestion),children:(0,a.jsx)(l.z,{title:"ثبت پرسش",CROId:m.h.PDP_QUESTION_FAB,leftIcon:"question",onClick:function(){w(!0)}})})]})}),(0,a.jsx)(b.p,{productId:I,isOpen:z,onFinish:M,onDismiss:M}),(0,a.jsx)(h.M,{answerModalData:P,onClose:function(){k({isOpen:!1,questionId:"",questionText:"",successCallBack:function(){}})}})]})}},18015:function(e,t,n){"use strict";n.d(t,{p:function(){return h}});var i=n(66383),s=n(52322),r=n(2784),o=n(50603),a=n(72677),c=n(57931),l=n(98723),u=n(26442),d=n(12870),m=n(11559),p=n(75490),x=n(97155);function f(e){var t=e.className,n=e.onFinish,i=e.productId,r=e.inputValue,o=e.setSubmitted,f=e.buttonEnabled,v=(0,m.Z)({apiMethod:x.a}).request;return(0,s.jsxs)("div",{className:(0,a.d)("w-full",t),children:[(0,s.jsx)(c.z,{size:"large",onClick:function(){v({question:r,productId:i}).then(function(){o(!0),(0,p.p)({message:d.oA})}).finally(function(){null==n||n()})},className:"w-full",disabled:!f,CROId:"pdp-submit-question",children:"ثبت پرسش"}),(0,s.jsxs)("p",{className:"text-center mt-2",children:["ثبت پرسش به معنی موافقت با",(0,s.jsx)(l.r,{className:"mx-1 text-secondary-500",to:u.m,target:"_blank",children:"قوانین انتشار دیجی‌کالا"}),"است."]})]})}var v=n(85009);function h(e){var t=e.isOpen,n=e.onFinish,c=e.className,l=e.productId,u=e.onDismiss,d=(0,i.Z)((0,r.useState)(),2),m=(d[0],d[1]),p=(0,i.Z)((0,r.useState)(),2),x=p[0],h=p[1],b=(0,i.Z)((0,r.useState)(!1),2),I=b[0],N=b[1];return(0,s.jsx)(o.Modal,{isFullScreen:!0,isOpen:t,onDismiss:u,headerTitle:"پرسش خود را درباره این کالا ثبت کنید",footer:(0,s.jsx)(f,{onFinish:n,productId:l,inputValue:x,setSubmitted:m,buttonEnabled:I}),children:(0,s.jsx)("div",{className:(0,a.d)("grow",c),children:(0,s.jsx)(v.F,{label:"",maxLength:100,onChange:function(e){h(e)},handleCanSubmit:N})})})}},17340:function(e,t,n){"use strict";n.r(t),n.d(t,{BabyPDPModal:function(){return O}});var i=n(70865),s=n(96670),r=n(52322),o=n(2784),a=n(31909),c=n(98723),l=n(50603),u=n(96680),d=n(74894),m=n(54272),p=n(26442),x=n(72873),f=n(57120),v=n(87049),h=n(92428),b=n(70131),I=n(80786),N=n(41435),j=n(50020),g=n(48766),_=n(84001),C=n(88002),S=(0,n(1324).q)({url:function(e){var t=e.productId;return"product/".concat(t,"/variants/")},transformer:function(e){var t=e.data;return null==t?void 0:t.map(function(e){return(0,i.Z)({},(0,C.o)({data:e}),(0,C.o)({prefix:"product",data:e}))})}}),T=n(95766);function y(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(T.O,{height:26,className:"mt-2",bgColor:"bg-neutral-100"}),(0,r.jsx)(T.O,{height:34,className:"my-3",bgColor:"bg-neutral-100"})]}),(0,r.jsx)(T.O,{height:48,className:"w-full",bgColor:"bg-neutral-100"})]})}function O(e){var t=e.isOpenModal,n=e.closeModal,C=e.product,T=e.type,O=C||{},z=O.productTitle,w=O.productImage,V=O.productId,P=(0,x.V)({apiMethod:S,apiData:{productId:V},disabled:!V||!t}),k=P.data,M=P.pending,R=(0,f.a)({product:(0,s.Z)((0,i.Z)({},C),{productVariants:k})}),E=R.groupBySize,D=R.groupByColor,U=R.defaultVariantItem,q=R.setDefaultVariantItem,B=U||{},Z=B.productVariantPriceRrpPrice,F=B.productVariantPriceSellingPrice,L=B.productVariantPriceDiscountPercent,Q=B.productVariantPriceIsApplicationIncredible,A=B.productVariantMotorOilKyc,H=B.productVariantId,G=B.productVariantPriceOrderLimit,K=B.productVariantPriceIsLockedForDigiplus,J=B.variantInsurance,X=J||{},W=X.insuranceSellingPrice,$=X.insuranceDiscountPercent,Y=X.insuranceBeforeDiscountPrice,ee=(0,v.v)(b.E.getCartItem({productVariantId:H})),et=0!==((null==ee?void 0:ee.cartItemQuantity)||0),en=!(0,j.k)(ee)&&!!ee.cartItemHasInsurance,ei=(0,v.v)(I.b.variantHasInsurance);return(0,o.useEffect)(function(){return t?h.u.setPageType(T):h.u.setPageType(null),function(){h.u.setPageType(null)}},[T,t]),(0,r.jsxs)(l.Modal,{isOpen:t,onDismiss:n,width:500,headerTitle:"انتخاب جزئیات",BottomSheetClassName:"z-10",footer:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.a,{isBabyPdp:!0,isApplicationIncredible:Q,isSellerSection:!0,isInsuranceActive:!(0,N.x)(J),isLockedForDigiplus:K,maxCount:G,productVariantId:H,hasMotorOilKyc:A,hasInsurance:et?en:ei}),et&&(0,r.jsxs)("div",{className:"mr-2 lg:mr-4 hidden lg:block shrink-0",children:[(0,r.jsx)("p",{className:"text-neutral-700 text-body-1",children:"در سبد شما"}),(0,r.jsxs)("div",{className:"flex items-center",children:["مشاهده",(0,r.jsx)(c.r,{className:"text-secondary-500",to:p.gX,children:(0,r.jsx)("p",{className:"mr-1 text-body-2",children:"سبد خرید"})})]})]})]}),(0,r.jsx)(m.z,{price:Z,sellingPrice:F,discountPercent:L,className:"mr-auto text-h4 pr-4"})]}),children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsx)(a.E,{width:70,image:w,imageClassName:"rounded-large overflow-hidden",className:"cursor-pointer"}),(0,r.jsx)(g.$,{title:z,titleClassName:"text-subtitle-strong"})]}),M&&(0,r.jsx)(y,{}),!M&&(0,r.jsx)(_.B,{isBabyPDP:!0,groupByColor:D,groupBySize:E,product:C,setDefaultVariantItem:q,defaultVariant:U}),!(0,N.x)(J)&&(0,r.jsx)(u.K,{productVariantId:H,insuranceDiscountPercent:$,insuranceRRPPrice:Y,insuranceSellingPrice:W})]})}},54272:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var i=n(52322),s=n(98780),r=n(66212),o=n(31222),a=n(72762),c=n(52216),l=n(72677),u=n(5759);function d(e){var t,n,d,m,p=e.price,x=e.sellingPrice,f=e.discountPercent,v=e.iconSize,h=e.iconColor,b=e.valueSuffix,I=e.disableFormat,N=e.payablePriceTextClassName,j=e.priceTextClassName,g=e.className,_=(0,u.h)(f)&&0!==f,C=(0,l.d)("flex justify-start",{"flex-col items-end":_},g),S=(0,l.d)({"text-neutral-800 ml-1":!N,"text-h4":_&&!N},N),T=(0,l.d)({"line-through":_,"text-body-2":_&&!j,"text-h4":!_&&!j,"ml-1":!j,"text-neutral-300":!j&&_,"text-neutral-800":!j&&!_},j);return(0,i.jsxs)("div",{className:C,children:[(0,i.jsxs)("div",{className:"flex items-center justify-end w-full",children:[(0,i.jsx)("span",{className:T,"data-testid":o.i.PRODUCT_PRICE.NO_DISCOUNT,children:I?(0,c.U)(p):(0,a.j)(p)}),(0,i.jsx)(r._,{className:"shrink-0 mr-1",value:f})]}),(0,i.jsx)("div",{className:"flex flex-row items-center",children:b?(0,i.jsx)("span",{className:(0,l.d)("mr-1",j),"data-testid":o.i.PRODUCT_PRICE.FINAL,children:b}):(0,i.jsxs)(i.Fragment,{children:[_&&(0,i.jsx)("span",{className:S,"data-testid":o.i.PRODUCT_PRICE.FINAL,children:(0,a.j)((n=(t={price:p,discountPercent:f,sellingPrice:x}).price,d=t.discountPercent,(m=t.sellingPrice)?m:d?n-n*d:n))}),(0,i.jsx)(s.J,{className:"mr-1",icon:"toman",size:void 0===v?14:v,color:h})]})})]})}},46514:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i,s=n(47842),r=n(57874),o=(i={},(0,s.Z)(i,r.U.tooSmall,"خیلی کوچک‌تر"),(0,s.Z)(i,r.U.small,"کمی کوچک‌تر"),(0,s.Z)(i,r.U.fit,"مطابق انتظار"),(0,s.Z)(i,r.U.big,"کمی بزرگ‌تر"),(0,s.Z)(i,r.U.tooBig,"خیلی بزرگ‌تر"),i)},57874:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var i={tooSmall:"tooSmall",small:"small",fit:"fit",big:"big",tooBig:"tooBig"}},57120:function(e,t,n){"use strict";n.d(t,{a:function(){return x}});var i=n(66383),s=n(2784),r=n(39584),o=n(34498),a=n.n(o),c=n(41435),l=n(691),u=n(1324),d=n(8398),m=(0,u.q)({url:function(e){var t=e.productId;return"/shopping/product-online-visitor/".concat(t)},options:{baseURL:l.sU},transformer:function(e){return(null==e?void 0:e.data)||null},inputTransformer:d.d,isToastErrorMuted:!0}),p=n(72873);function x(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).product,t=e||{},n=t.productDefaultVariant,o=t.productVariants,l=t.productId,u=t.productBreadcrumb,d=(0,i.Z)((0,s.useState)(n),2),x=d[0],f=d[1],v=x||{},h=v.variantSize,b=v.variantColor,I=(h||{}).sizeId,N=(b||{}).colorId,j=(0,s.useMemo)(function(){if(!I)return null;var e=(0,r.v)(o,function(e){var t;return null===(t=e.variantSize)||void 0===t?void 0:t.sizeId})||{};return Object.keys(e).forEach(function(t){e[t]=a()(e[t],["productVariantRank"],["desc"])}),e},[o,I]),g=(0,s.useMemo)(function(){if(!N)return null;var e=(0,r.v)(o,function(e){var t;return null===(t=e.variantColor)||void 0===t?void 0:t.colorId})||{};return Object.keys(e).forEach(function(t){e[t]=a()(e[t],["productVariantRank"],["desc"])}),e},[o,N]),_=(0,s.useMemo)(function(){return(0,c.x)(g)?(0,c.x)(j)?a()(o,["productVariantRank"],["desc"]):a()(j[I],["productVariantRank"],["desc"]):a()(g[N],["productVariantRank"],["desc"])},[N,I,g,j,o]);return{groupBySize:j,groupByColor:g,productConcurrentViewers:(0,p.Z)({apiMethod:m,apiData:{productId:l},disabled:!0}).data,sellers:_,breadCrumbs:(0,s.useMemo)(function(){var e;return(null==u?void 0:null===(e=u.slice)||void 0===e?void 0:e.call(u,0,u.length-1))||[]},[u]),defaultVariantItem:x,setDefaultVariantItem:f}}},65708:function(e,t,n){"use strict";n.d(t,{OQ:function(){return r},b$:function(){return s},dk:function(){return o}});var i=n(53623),s={COMMENTS:"comments",QUESTIONS:"questions",SPECIFICATIONS:"specifications",INTRODUCTION:"introduction",LIKE:"like",SHARE:"share",ADD_TO_LIST:"add_to_list",NOTIFICATION:"notification",PRICE_CHART:"price_chart",COMPARISON:"comparison"},r={CLICK:"click",SCROLL:"scroll",TOUCH_POINT_CLICK:"touch_point_click"};function o(e){var t=e.productId,n=e.sectionName,s=e.navigationType,r=e.isShowMore;(0,i.N)({name:"pdp_section_view",body:{version:2,product_id:t,pdp_section_type:n,navigation_type:s,show_more:!!r},target:{}})}},46100:function(e,t,n){"use strict";n.d(t,{RH:function(){return i.RH},cu:function(){return i.cu}});var i=n(97451)},95054:function(e){e.exports={InfoSectionVariationColorContent__main:"styles_InfoSectionVariationColorContent__main__OUcdN",InfoSectionVariationColorContent__iconWrapper:"styles_InfoSectionVariationColorContent__iconWrapper__WEy3t"}},19170:function(e){e.exports={InfoSectionVariationColor:"styles_InfoSectionVariationColor__pX_3M",InfoSectionVariationColor__selected:"styles_InfoSectionVariationColor__selected__MqDpU"}},64654:function(e){e.exports={sizeGuidModal__image:"styles_sizeGuidModal__image__B7akJ"}},59233:function(e){e.exports={TableRow:"styles_TableRow__l_Tr0",TableRow__backgroundOpacity:"styles_TableRow__backgroundOpacity__yJLBw"}},40537:function(e){e.exports={VariantInfo__enTitleLine:"styles_VariantInfo__enTitleLine__HNqBN",VariantInfo__sizeDropDown:"styles_VariantInfo__sizeDropDown__oB1F_"}},59810:function(e){e.exports={progress:"styles_progress__78otk"}},32062:function(e){e.exports={VariantInfoSizeMobile:"styles_VariantInfoSizeMobile__rnIlJ","VariantInfoSizeMobile--selected":"styles_VariantInfoSizeMobile--selected__BSNrk"}},99243:function(e){e.exports={PdpQuestionSectionMobileModal__questionBox:"styles_PdpQuestionSectionMobileModal__questionBox__F8oZE",PdpQuestionSectionMobileModal__addQuestion:"styles_PdpQuestionSectionMobileModal__addQuestion__VuqV2"}}}]);